<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Reclamos y Peticiones</title>
    <link rel="stylesheet" href="reclamos_peticiones.css">
</head>
<body>
    <div class="container">
        <h1>Formulario de Reclamos y Peticiones</h1>
        <form id="solicitudForm">
            <label for="tipo">Seleccione el tipo de solicitud:</label>
            <select id="tipo" name="tipo">
                <option value="reclamo">Reclamo</option>
                <option value="peticion">Petición</option>
            </select>
            
            <div id="reclamoSection">
                <label for="reclamo">Escriba su reclamo (máximo 300 palabras):</label>
                <textarea id="reclamo" name="reclamo" rows="10" maxlength="3000" placeholder="Escriba su reclamo aquí..."></textarea>
                <p id="wordCountReclamo">0 / 300 palabras</p>
            </div>

            <div id="peticionSection" style="display:none;">
                <label for="peticion">Escriba su petición (máximo 300 palabras):</label>
                <textarea id="peticion" name="peticion" rows="10" maxlength="3000" placeholder="Escriba su petición aquí..."></textarea>
                <p id="wordCountPeticion">0 / 300 palabras</p>
            </div>
            
            <label for="archivo">Subir archivo:</label>
            <input type="file" id="archivo" name="archivo">
            <button type="submit">Enviar</button>
        </form>
        <div id="notification" style="display:none;">
            <p>Su solicitud ha sido enviada con éxito.</p>
        </div>
    </div>

    <script>
        document.getElementById('tipo').addEventListener('change', function () {
            const tipo = this.value;
            const reclamoSection = document.getElementById('reclamoSection');
            const peticionSection = document.getElementById('peticionSection');
            if (tipo === 'reclamo') {
                reclamoSection.style.display = 'block';
                peticionSection.style.display = 'none';
            } else {
                reclamoSection.style.display = 'none';
                peticionSection.style.display = 'block';
            }
        });

        document.getElementById('reclamo').addEventListener('input', function () {
            updateWordCount(this, 'wordCountReclamo');
        });

        document.getElementById('peticion').addEventListener('input', function () {
            updateWordCount(this, 'wordCountPeticion');
        });

        function updateWordCount(textarea, wordCountId) {
            const wordCount = textarea.value.trim().split(/\s+/).length;
            const wordCountDisplay = document.getElementById(wordCountId);
            if (wordCount > 300) {
                wordCountDisplay.style.color = 'red';
                wordCountDisplay.textContent = `300 palabras máximo alcanzado`;
                textarea.value = textarea.value.split(/\s+/).slice(0, 300).join(" ");
            } else {
                wordCountDisplay.style.color = 'black';
                wordCountDisplay.textContent = `${wordCount} / 300 palabras`;
            }
        }
        document.getElementById('solicitudForm').addEventListener('submit', function(event) {
    event.preventDefault();
    // Aquí puedes agregar la lógica para enviar el formulario al servidor si fuera necesario.
    // Por ahora solo mostramos la notificación.
    document.getElementById('notification').style.display = 'block';
    // Limpiar el formulario después del envío
    this.reset();
    // Reiniciar contadores de palabras
    document.getElementById('wordCountReclamo').textContent = '0 / 300 palabras';
    document.getElementById('wordCountPeticion').textContent = '0 / 300 palabras';
    // Ocultar las secciones después de enviar
    document.getElementById('reclamoSection').style.display = 'none';
    document.getElementById('peticionSection').style.display = 'none';
});
    </script>
</body>
</html>